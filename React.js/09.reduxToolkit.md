# Redux-Toolkit crash course 

1. Redux is a state management libreary and Redux-toolkit is modern way to use it 
2. React-Redux bridge that connect react component to central Redux store 

# Steps

## 1. Configure store 

### Store : single source of truth of your application's state and provide clear set of rules how data can be changed 
```js
import {configureStore} from '@reduxjs/toolkit'

const store=configureStore({

    // we will import some reducers here 
})

export default  store
```
## 2. CreateSlice for all the featurs 

`Slice` : A slice is a concept introduced by Redux Toolkit to make Redux much easier to use. It's an all-in-one package for a specific feature of your application. Instead of having separate files for actions, reducers, and the initial state, a slice bundles all of that logic together in a single file.

```js 
import { createSlice, nanoid } from "@reduxjs/toolkit";


const initialState= {
    Todos:[]
}

export const todoSlice=createSlice(
    {
        name:'myTodo',
        initialState,
        reducers:{
            // Reducers 
        }
    }
)


```
`createSlice()`: accepts an object of reducer functions, a slice name, and an initial state value, and automatically generates a slice reducer with corresponding action creators and action types.


## 3. Define  reducers

### Reducers: A reducer is a function that takes the current state and an action, and then returns a new state. It's the part of your code that listens for specific actions and decides how to update the data in your store.

```js
import { createSlice, nanoid } from "@reduxjs/toolkit";


const initialState= {
    Todos:[]
}

export const todoSlice=createSlice(
    {
        name:'myTodo',
        initialState,

        // / Reducers  : A reducer is a function that takes the current state and an action, and then returns a new state. It's the part of your code that listens for specific actions and decides how to update the data in your store.

        reducers:{
            addTodo:(state,action)=>{
                const todo={
                    id:nanoid(),
                    text: action.payload
                }
                state.Todos.push(todo)

           
                

            },

            removeTodo:(state,action)=>{
                state.Todos=state.Todos.filter((todo)=>todo.id!== action.payload)



            }

           

            





        }
    }
)

export const {addTodo,removeTodo}=todoSlice.actions
export default  todoSlice.reducer

```

You've got the next two critical lines of code! Let's break down what each one does, because they serve two very different but essential purposes.

1. export const { addTodo, removeTodo } = todoSlice.actions
This line is all about making your actions available to your React components. When we defined our reducers in createSlice with names like addTodo and removeTodo, Redux Toolkit automatically created an "action creator" function for each one.

`todoSlice.actions`: This is an object that Redux Toolkit automatically generates for you. It holds all the action creator functions.

`{ addTodo, removeTodo }`: We are using JavaScript object destructuring to pull out just the action creators we want to use.

`Purpose`: You will import and use these functions in your components to dispatch actions. For example, you would call dispatch(addTodo('New item')) to trigger the addTodo reducer.



2. `export default todoSlice.reducer`
This line is about making the entire slice's reducer logic available to your Redux store.

`todoSlice.reducer`: This is the main reducer function for our entire slice. It's a single, combined function that knows how to handle the addTodo and removeTodo actions (and any other reducers we add).

`export default`: This makes it the primary export of this file, so it's easy to import into your store.js file.

`Purpose`: We'll use this reducer to tell our Redux store that this slice exists and how to manage its state.

## 4. import reducers into store 
```js

import {configureStore} from '@reduxjs/toolkit'
import TodoReducer from "./TodoSlice.js"

const store=configureStore({
    reducer:TodoReducer
})

export default  store
```

`const store = configureStore({ reducer: TodoReducer })`: This is where we actually create our Redux store! We call configureStore and pass it a configuration object. The most important property is reducer, which we set equal to the TodoReducer we just imported. This tells the store to use our TodoReducer to handle all the state for our application.


## 5. Use the store to manage the state in our components 

### `useDispatch`: Think of it as a messenger ✉️. Its job is to give you a way to send an action to the Redux store. When you call dispatch, you're essentially saying, "Hey, store! Here's an action I need you to handle."

```js
import React from 'react'
import { useState } from 'react';
import {useDispatch} from 'react-redux'
import { addTodo } from '../src/store/TodoSlice';


function AddTodo() {

    const [input,setInput]=useState('') 

    const dispatch=useDispatch() // 

    const addTodoHandler=(event)=>{
        event.preventDefault()
        if(input.trim()){
            dispatch(addTodo(input))  // 
            setInput('')
        }


        
        

    }
  return (
    
      <div className="flex justify-center mt-12 p-4">
      <form onSubmit={addTodoHandler} className="w-full max-w-lg flex items-center space-x-4">
        <input
          type="text"
          className="flex-1 bg-stone-800 rounded-lg border-2 border-stone-700 text-base text-stone-100 py-2 px-4 outline-none transition-colors duration-300 ease-in-out focus:border-indigo-500"
          placeholder="Enter a new task..."
          value={input}
          onChange={(e) => setInput(e.target.value)}
        />
        <button
          type="submit"
          className="text-stone-100 bg-indigo-600 border-0 py-2 px-6 rounded-lg font-medium shadow-md transition-transform duration-300 ease-in-out hover:scale-105 hover:bg-indigo-700"
        >
          Add Task
        </button>
      </form>
    </div>
  )
}

export default AddTodo

```
`dispatch(addTodo(input)):` This is the most important line!

`dispatch`: This is the function we get from the useDispatch hook. It's our "messenger" that sends an action to the Redux store.

`addTodo`: This is the action creator we created in our TodoSlice.js file. We are calling it as a function.

`(input)`: The text the user typed is passed as the payload to our addTodo action creator.

### useSlector : useSelector is a hook from react-redux that allows you to "select" specific pieces of data from your Redux store's state. It's essentially your way of reading the information from your central source of truth.

```js
import { useSelector, useDispatch } from 'react-redux'

const todos = useSelector(state => state.todos)

```

useSelector(...): This is the hook we talked about. It's the mechanism we use to connect our component to the Redux store and select a piece of state.

state => state.todos: This is the "selector function." It's an arrow function that takes the entire state of the Redux store as its argument (state). From that state, we are telling useSelector to specifically return the todos property.

const todos = ...: The value returned by useSelector—which is just the todos array—is then assigned to a local variable in our component, also called todos.

This is the beauty of useSelector. When the todos state in your Redux store changes (for example, when a new todo is added), useSelector automatically detects the change and causes your component to re-render with the new data.

So, to summarize the entire React-Redux flow:

We use useDispatch to get a function that sends an action to the store.

We use useSelector to get the data back from the store to display it.

```jsx
import React from 'react'
import { useSelector, useDispatch } from 'react-redux'
import {removeTodo} from '../featurs/Todo/TodoSlice'


function Todos() {
    const todos = useSelector(state => state.Todos)
    const dispatch=useDispatch()

  return (
    <div>
        <div>Todos</div>
            <ul className="list-none">
                {todos.map((todo) => (
                  <li
                    className="mt-4 flex justify-between items-center bg-zinc-800 px-4 py-2 rounded"
                    key={todo.id}
                  >
                    <div className='text-white'>{todo.text}</div>
                    <button
                     onClick={() => dispatch(removeTodo(todo.id))}
                      className="text-white bg-red-500 border-0 py-1 px-4 focus:outline-none hover:bg-red-600 rounded text-md"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        strokeWidth={1.5}
                        stroke="currentColor"
                        className="w-6 h-6"
                      >
                        <path
                          strokeLinecap="round"
                          strokeLinejoin="round"
                          d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"
                        />
                      </svg>
                    </button>
                  </li>
                ))}
              </ul>

      
    </div>
  )
}

export default Todos

```

# Main.jsx 

```jsx
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App.jsx'
import  store  from './store/store.js'
import { Provider } from 'react-redux'


createRoot(document.getElementById('root')).render(
  <Provider store={store}>
        <App>
          
        </App>
      </Provider>
  
)

```